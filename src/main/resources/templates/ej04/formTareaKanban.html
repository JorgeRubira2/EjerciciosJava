<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
             textarea {
            height: 200px;
            width: 300px;
        }
        </style>
    </head>
    <body>
         <!-- Formulario de alta  --> 
        
        <div id="formularioAltaTask" th:if="${'altaTarea'.equals(modo)}" >
            <form id= "altaTask" method="post" th:object="${tarea}">
                <div class="container" >
                    <div class="row" >
                        <h1> Alta de tarea </h1>
                    </div>
                    <div class="row" >
                        <div class="form-group col-7">
                            <div><label for="descripcion">descripción Tarea</label> </div>
                            <textarea  th:field="*{descripcion}">  </textarea>
                        </div>
                    </div>
                    <div class="row" >
                        <div class="form-group col-7">
                            <label for="horasEstimacion">Horas Estimadas</label>
                            <input type="number" th:field="*{horasEstimacion}"/>
                        </div>
                    </div>
                    <br/>
                    <div class="row col-7">
                        <a class="btn btn-primary"  onclick="enviar('altaTask','/ejercicio04/nuevaTarea')"> Alta <i class="fas fa-tasks"></i> </a>
                    </div>
                </div>
            </form>
        </div>
         
          <!-- Asignar Trabajador  --> 
        
        <div id="asignarTrabajadorDiv" th:if="${'asignarTrabajador'.equals(modo)}" >
            <form id= "asignarTrabajador" method="post" th:object="${tarea}">
                <div class="container" >
                    <div class="row" >
                        <h1> Asignar Trabajador </h1>
                    </div>
                    <div class="row" >
                        <div class="form-group col-7">
                            <label for="propietario">Propietario</label>
                            <input type="text"  th:field="*{propietario}" />
                        </div>
                    </div>
                        <input type='hidden' th:field="*{codigo}"/>
                    <br/>
                    <div class="row col-7">
                        <a class="btn btn-primary"  onclick="enviar('asignarTrabajador','/ejercicio04/asignacionPersona')"> asignar Persona <i class="fas fa-user-plus"></i> </a>
                    </div>
                </div>
            </form>
        </div>
         
         
         <!-- Formulario Modificar tarea --> 
        
        <div id="modificarTaskDiv" th:if="${'modificaTarea'.equals(modo)}" >
            <form id= "modificarTask" method="post" th:object="${tarea}">
                <div class="container" >
                    <div class="row" >
                        <h1> Modificar tarea </h1>
                    </div>
                    <div class="row" >
                        <div class="form-group col-7">
                            <div><label for="descripcion">descripción Tarea</label> </div>
                            <textarea  th:field="*{descripcion}">  </textarea>
                        </div>
                    </div>
                    <div class="row" >
                        <div class="form-group col-7">
                            <label for="horasEstimacion">Horas Estimadas</label>
                            <input type="number" th:field="*{horasEstimacion}"/>
                        </div>
                    </div>
                    <input type='hidden' th:field="*{codigo}"/>
                    <br/>
                    <div class="row col-7">
                        <a class="btn btn-primary"  onclick="enviar('modificarTask','/ejercicio04/modificacionTarea')"> Modificar <i class="fas fa-tasks"></i> </a>
                    </div>
                </div>
            </form>
        </div>
         
          <!-- Asignar Horas Trabajadas Tarea --> 
        
        <div id="imputarHorasDiv" th:if="${'imputarHoras'.equals(modo)}" >
            <form id= "imputarHoras" method="post" th:object="${tarea}">
                <div class="container" >
                    <div class="row" >
                        <h1> Imputar Horas </h1>
                    </div>
                    <div class="row" >
                        <div class="form-group col-7">
                            <label for="horasTrabajadas"> Horas Trabajadas </label>
                            <input type="number"  th:field="*{horasTrabajadas}" />
                        </div>
                    </div>
                        <input type='hidden' th:field="*{codigo}"/>
                    <br/>
                    <div class="row col-7">
                        <a class="btn btn-primary"  onclick="enviar('imputarHoras','/ejercicio04/imputarHoras')"> Imputar Horas <i class="fas fa-user-clock"></i> </a>
                    </div>
                </div>
            </form>
        </div>         
         
         
         
         
         
         
    </body>
    
    <!-- La solución optima es poner los scripts al final -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" ></script>    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.js"></script>
    <script>
                           
                            function enviar(formularioId,accionEnvio){
                                $('#'+formularioId).attr('action',accionEnvio);
                                $('#'+formularioId).submit();
                            }

    </script>
</html>
