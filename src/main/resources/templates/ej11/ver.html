<html xmlns:th="https://www.thymeleaf.org"
      th:replace="/ej11/layout::reemplazo( ~{::body}, ~{::misestilos})">
    <html>
        <head>
            <title>TODO supply a title</title>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
        </head>
        <misestilos>
            <style>
                .imagen{
                    border: 2px solid grey;
                    border-radius: 20%;
                    width:   200px;
                    margin:  10%;
                    padding: 15%;
                }
                
                
            </style>
        </misestilos>
        <body>

            <div class="container">
                <h1>Fotos</h1>
                <hr>
                <!--subir -->


                <form action="/ejercicio11/subirImagen" method="post" enctype="multipart/form-data" > 
                    <div class="row">
                        <div><label for="descripcion">Descripcion:  </label> 
                            <input type ="text" name="descripcion" required/>
                        </div>
                    </div>
                    <div class="row">
                        <label for="fichero">Fichero:  </label>
                        <input  type="file" name="fichero" required/> 
                    </div>
                    <div class="row">
                        <input class='btn btn-primary' type="submit" value="Subir Fichero"/> 
                    </div>
                </form>

                <hr>
                <!-- filtrar -->
                <form action="/ejercicio11/ver" method="get"> <input type="text" name="descripcion" placeholder="descripcion de las imagenes" > <input class='btn btn-primary' type="submit" value="Filtrar"/> </form>

                <hr>
                <!--mostrar --> 
                <div class="row">
                    <span th:each="imagen:${imagenes}">
                        <div class="col imagen">
                            <img th:src="@{descarga(ruta=${imagen.rutaAlmacenamiento})}" height="100px" width="150px" /> 
                            <div class="col">
                                <div th:text="${imagen.descripcion}"></div>
                                <a th:href="@{borrarImagen(id=${imagen.id})}">Borrar</a>
                            </div>
                        </div>
                         
                    </span>
                </div>
            </div>
        </body>
    </html>
