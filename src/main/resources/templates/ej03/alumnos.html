<!DOCTYPE html>

<html>
    <head>
        <title> Alumnos </title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
        
        <script src="https://code.jquery.com/jquery-3.6.0.js" ></script>    
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" ></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/lumen/bootstrap.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.js"></script>
        <link rel="stylesheet" href="https://wowjs.uk/css/libs/animate.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.js"></script>      
        
    </head>
    <body>
        <div class="container pt-5 px-5">
                       
            <h1 align="center" > Listado de Alumnos</h1>
            <br>
              <spam>
                       
                 <form id="form" name="form" method="post"> 
                                      
                    <input id="nombre2" name="nombre2" class="col-2" placeholder="Introduce el nombre"/> 
                    <input type="button" value="Buscar" onclick="enviarFormulario('/ejercicio3/buscar')"  class="btn btn-primary"  />
                                      
                    <input type="button" value="Nuevo"  onclick="enviarFormulario('/ejercicio3/nuevo')" class="btn btn-primary" />
                    <input type="button" value="Lista Alumnos"  onclick="window.location ='alumnos'" class="btn btn-primary" />

                 </form>   
              </spam>
            <br>
            <spam>
                <table class="table table-striped">
                 
                      <tr>
                            <th>Codigo</th>
                            <th>Nombre</th>
                            <th>Teléfono</th>
                            <th>Direccióm</th>
                            <th class="col-4">Acciones</th>
                       </tr>
                                
        
                     <tr  th:each="alumno:${alumnos}">
                         <td th:text="${alumno.codigo}"/>
                         <td  th:text="${alumno.nombre}"/> 
                         <td  th:text="${alumno.telefono}"/> 
                         <td  th:text="${alumno.direccion}"/> 
                         <td>
                        
                         <div class="pt-1" >
                            <a th:href="@{/ejercicio3/eliminar(codigo=${alumno.codigo})}" class="btn btn-danger btn-md"  value='Eliminar'>  Eliminar
                            </a>
                                                  
                             <a th:href="@{/ejercicio3/editar(codigo=${alumno.codigo})}" class="btn btn-primary btn-md"   value='Editar'>  Editar
                                                             
                            </a> 
                          </div>
                         </td>
              
                     </tr>
                     
                     
                </table>
                

           </spam>
                 
                 
        </div>
        
        <script src="https://code.jquery.com/jquery-3.6.0.js" ></script>    
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js" integrity="sha512-Eak/29OTpb36LLo2r47IpVzPBLXnAMPAVypbSZiZ4Qkf8p/7S/XRG5xp7OKWPPYfJT6metI+IORkR5G8F900+g==" ></script>
        
        <script>
            function enviarFormulario(url){
             //alert (url  )
              
             // url2 = url + "?nombre=" + document.getElementById("nombre2").value ;
              
              $('form').attr('action', url);
              $('form').submit();
          }
          
           </script> 

    </body>
</html>
