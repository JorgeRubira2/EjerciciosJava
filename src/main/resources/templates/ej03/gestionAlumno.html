<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<style>
.fa, .fal {
	font-family: 'Font Awesome 5 Free';
	font-weight: 900;
	margin-top: 5px;
	margin-left: 5px;
}

.fa-search {
	float: right;
}

.fa-user-plus {
	float: right;
}
.btn{
text-align: center;
}

</style>

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/spacelab/bootstrap.min.css" />

<title>Ejercicio03Spring</title>
</head>
<body>
	<div class="container">

		<h1>Listado de Alumnos</h1>
		<form action="/ejercicio3/buscarAlumno" method="post">
			<div class="row">
				<div class="form-group col-2">
					<input class="form-control" placeholder="Ingresa un nombre"
						type="text" name="alumnos" th:value="${alumnos}" />
				</div>
				<div class="col-4 ">

					<button value="Buscar" class="btn btn-primary ">
						Buscar <i class="fal fa-search"></i>
					</button>
					<button type="button" class="btn btn-primary"
						data-bs-toggle="modal" data-bs-target="#modalEjemplo">
						Nuevo Usuario <i class="fal fa-user-plus"></i>
					</button>
					
					
				</div>
			</div>
			</form>
			<table class="table table-striped table-bordered table-hover">
				<thead>
					<tr>
						<th>Codigo</th>
						<th>Nombre</th>
						<th>Telefono</th>
						<th>Direccion</th>
						<th>Acciones</th>
					</tr>

				</thead>
				<tbody>
					<tr th:each="alumnos:${lista}">

						<td th:text="${alumnos.codigo}"></td>
						<td th:text="${alumnos.nombre}"></td>
						<td th:text="${alumnos.telefono}"></td>
						<td th:text="${alumnos.direccion}"></td>

						<td>
							
								<a class="btn btn-danger btn-sm fal"
									th:href="${'/gestionAlumno/eliminar?codigo='+alumnos.getCodigo()}">Eliminar</a>
									<!-- <a class="btn btn-danger btn-sm fal"
									th:href="@{'ejercicio3/eliminar/{codigo} (codigo=${elemento.codigo})}">Eliminar</a>
									 -->
								<a class="btn btn-info btn-sm fal  "
									th:href="${'/gestionAlumno/modificar?codigo='+alumnos.getCodigo()}">Editar</a>
									
							
						</td>

					</tr>

				</tbody>
			</table>
			<a class="btn btn-primary" th:href="${'/ejercicio3/gestionAlumno'}">Volver</a>
	
	</div>
	<!-- Ventana -->
	<div class="modal fade" id="modalEjemplo" data-bs-backdrop="static"
		data-bs-keyboard="false" tabindex="-1"
		aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title" id="staticBackdropLabel">A&ntilde;adir
						nuevo alumno</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body">

					<form action="gestionAlumno" method="post">
						<div class="row">
							<div class="col-2">
								<label for="codigo">Codigo</label>
							</div>
							<div class="col-10">
								<div class="input-group mb-2">

									<input type="number" required class="form-control"
										name="codigo" />
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-2">
								<label for="codigo">Nombre</label>
							</div>
							<div class="col-10">
								<div class="input-group mb-2">

									<input type="text"required class="form-control" name="nombre" />
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-2">
								<label for="codigo">Telefono</label>
							</div>
							<div class="col-10">
								<div class="input-group mb-2">

									<input type="text" required class="form-control"
										name="telefono" />
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-2">
								<label for="codigo">Direccion</label>
							</div>
							<div class="col-10">
								<div class="input-group mb-2">

									<input type="text"required class="form-control"
										name="direccion" />
								</div>
							</div>
						</div>
				
						<div class="modal-footer">
						
					<button type="button" class="btn btn-primary"
						data-bs-dismiss="modal">Cerrar</button>
					<button type="submit" class="btn btn-primary">Aceptar</button>
				</div>
				</form>
				
				</div>
			</div>
		</div>
	



	<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.js"></script>
	<script>
		function Nuevo() {
			$("form").attr("action", "/ejercicio03/alta").submit();
		}
	</script>
</body>
</html>